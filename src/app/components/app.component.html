<tag-input [(ngModel)]="tickerSymbols" (ngModelChange)="getTestRequest()"
  modelAsStrings="true"
  maxItems="4">
</tag-input>

<table class="table table-striped">
  <thead>
  <tr>
    <th scope="col">Ticker symbol</th>
    <th scope="col">Return</th>
    <th scope="col">Standard deviation</th>
    <th scope="col">Sharpe ratio</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let series of performanceSeriesList;">
    <td>{{ series.ticker }}</td>
    <td>{{ series.return | percent:'.2'}}</td>
    <td>{{ series.stDev | percent:'.2'}}</td>
    <td>{{ series.sharpeRatio | number: '.3'}}</td>
  </tr>
  </tbody>
</table>
<button class="btn btn-primary" (click)="makePortfolioCalculation()"
  [disabled]="symbolsLoading > 0 || !performanceSeriesList || performanceSeriesList.length <= 0">
  Calculate evenly spread portfolio
</button>
<button class="btn btn-primary" (click)="testSimulationLogic()"
  [disabled]="symbolsLoading > 0 || !performanceSeriesList || performanceSeriesList.length <= 0">
  Find optimized portfolio
</button>
<table class="table table-striped">
  <thead>
  <tr>
    <th scope="col">Calculation</th>
    <th scope="col">Return</th>
    <th scope="col">Standard deviation</th>
    <th scope="col">Sharpe ratio</th>
    <th scope="col" *ngFor="let series of performanceSeriesList">{{series.ticker}}</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let item of getCalculations();">
    <td>{{ item.name }}</td>
    <td>{{ item.calc.performance | percent:'.2'}}</td>
    <td>{{ item.calc.stDev | percent:'.2'}}</td>
    <td>{{ item.calc.sharpeRatio | number: '.3'}}</td>
    <td *ngFor="let holding of item.calc.holdingsData">{{holding.weight | percent:'.2'}}</td>
  </tr>
  </tbody>
</table>
<!-- <div *ngIf="calculation">
  <h3>Calculation:</h3>
  <p>Return: {{calculation.performance| percent:'.2'}}</p>
  <p>StDev: {{calculation.stDev | percent:'.2'}}</p>
  <p>Sharpe: {{calculation.sharpeRatio | number: '.3'}}</p>
  <p *ngFor="let holding of calculation.holdingsData">
    {{holding.ticker}} weight - {{holding.weight | percent:'.2'}}
  </p>
</div>
<div *ngIf="calculationMaxSharpe">
  <h3>Calculation maximum Sharpe:</h3>
  <p>Return: {{calculationMaxSharpe.performance| percent:'.2'}}</p>
  <p>StDev: {{calculationMaxSharpe.stDev | percent:'.2'}}</p>
  <p>Sharpe: {{calculationMaxSharpe.sharpeRatio | number: '.3'}}</p>
  <p *ngFor="let holding of calculationMaxSharpe.holdingsData">
    {{holding.ticker}} weight - {{holding.weight | percent:'.2'}}
  </p>
</div><div *ngIf="calculationMinStdev">
  <h3>Calculation minimum volatility:</h3>
  <p>Return: {{calculationMinStdev.performance| percent:'.2'}}</p>
  <p>StDev: {{calculationMinStdev.stDev | percent:'.2'}}</p>
  <p>Sharpe: {{calculationMinStdev.sharpeRatio | number: '.3'}}</p>
  <p *ngFor="let holding of calculationMinStdev.holdingsData">
    {{holding.ticker}} weight - {{holding.weight | percent:'.2'}}
  </p>
</div> -->