<div class="middleOfScreen" style="max-width: 800px;">
  <tag-input [(ngModel)]="tickerSymbols" (ngModelChange)="getTestRequest()" modelAsStrings="true" maxItems="4"
    placeholder="Enter a new ticker symbol"
    secondaryPlaceholder="Enter a ticker symbol"
  >
  </tag-input>
  <button class="btn btn-primary" (click)="makePortfolioCalculations()"
    [disabled]="symbolsLoading > 0 || !performanceSeriesList || performanceSeriesList.length <= 0">
    Run calculations
  </button>
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Calculation</th>
        <th scope="col">Return</th>
        <th scope="col">Volatility</th>
        <th scope="col">Sharpe ratio</th>
        <th scope="col" *ngFor="let series of performanceSeriesList">{{series.ticker}}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of getCalculations();">
        <td>{{ item.name }}</td>
        <td>{{ item.calc.performance | percent:'.2'}}</td>
        <td>{{ item.calc.stDev | percent:'.2'}}</td>
        <td>{{ item.calc.sharpeRatio | number: '.3'}}</td>
        <td *ngFor="let holding of item.calc.holdingsData"
          [ngStyle]="{'font-weight': holding.weight === 1 ? 'bold' : 'normal', 'color': holding.weight === 0 ? 'LightGrey' : 'Black'}">
          {{holding.weight | percent:'.2'}}
        </td>
      </tr>
    </tbody>
  </table>

  <plotly-plot [data]="plotData" [layout]="plotLayout" *ngIf="plotData.length > 0"></plotly-plot>

</div>
